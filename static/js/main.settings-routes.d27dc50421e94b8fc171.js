webpackJsonp([9],{1397:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…";return e.length>t?e.slice(0,t)+n:e}function a(e,t){for(var n,r=0,a="",o=e.length,i=0;i<o&&(n=e[i],n.charCodeAt(0)<128?r+=1:r+=2,a+=n,!(r>=t-1));i+=1);return a}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=void 0,c=void 0;"undefined"==typeof document?(c=e.replace(/<.+?>/g,""),o=a(c,t)):(i=i||document.createElement("div"),i.textContent=e,c=i.textContent.replace(/<.+?>/g,""),o=a(c,t));var l=!1;return o!==c&&(l=!0,o=o.slice(0,o.length-n.length),o+=n),r?{output:o,truncated:l}:o}t.a=r,t.b=o;var i=null},1424:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var i=n(1),c=n.n(i),l=n(0),s=n.n(l),u=n(16),p=(n.n(u),n(177)),f=(n.n(p),n(500)),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.check=function(){var e=n.props.offset,t=e,r=n.childNodes.map(function(e){return Object(u.findDOMNode)(e)}).filter(function(e){return e}).map(function(e){var t=window.getComputedStyle(e);return e.offsetHeight+parseInt(t.marginBottom,10)+parseInt(t.marginTop,10)}),a=n.el&&n.el.clientHeight,o=document.documentElement.clientHeight-e;if(n.sticky&&n.sticky.updateHeight(),a>o){var i=a;r.every(function(e){return!(i<o)&&(i-=e,!0)}),t=e-a+i}n.state.stickyOffset!==t&&n.setState({stickyOffset:t})},n.childNodes=[],n.state={stickyOffset:e.offset},n}return o(t,e),d(t,[{key:"componentDidMount",value:function(){this.resizeHandler=Object(p.subscribe)("resize",this.check),this.timeout=setTimeout(this.check)}},{key:"componentWillUnmount",value:function(){this.resizeHandler.unsubscribe(),clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,a=t.onRef;return s.a.createElement("div",{className:r,ref:a},s.a.createElement(f.a,{offset:this.state.stickyOffset,ref:function(t){e.sticky=t}},s.a.createElement("div",{ref:function(t){e.el=t}},l.Children.toArray(n).map(function(t,n){return Object(l.cloneElement)(t,{ref:function(t){e.childNodes[n]=t}})}))))}}]),t}(l.Component);h.propTypes={offset:c.a.number,onRef:c.a.func,className:c.a.string},h.defaultProps={offset:0,onRef:function(){},className:""}},2796:function(e,t){},2797:function(e,t){},2798:function(e,t){},2799:function(e,t){},2800:function(e,t){},2801:function(e,t){},2802:function(e,t){},2803:function(e,t){},2804:function(e,t){},2805:function(e,t){},2806:function(e,t){},2807:function(e,t){},2808:function(e,t){},2809:function(e,t){},2810:function(e,t){},2811:function(e,t){},2812:function(e,t){},2813:function(e,t){},2814:function(e,t){},2815:function(e,t){},2816:function(e,t){},2817:function(e,t){},2818:function(e,t){},2819:function(e,t){},2820:function(e,t){},2821:function(e,t){},2822:function(e,t){},2823:function(e,t){},2824:function(e,t){},2825:function(e,t){},2826:function(e,t){},2827:function(e,t){},2828:function(e,t){},2829:function(e,t){},2830:function(e,t){},2831:function(e,t){},2886:function(e,t,n){"use strict";function r(){return vt.a.createElement("footer",{className:"SettingsFooter"},vt.a.createElement("span",null,"© ",(new Date).getFullYear()," 知乎"),vt.a.createElement("div",{className:"SettingsFooter-links"},vt.a.createElement("a",{className:"SettingsFooter-link",href:"https://liukanshan.zhihu.com",target:"_blank",rel:"noopener noreferrer"},"刘看山"),vt.a.createElement("span",{className:"SettingsFooter-dot"},"·"),vt.a.createElement("a",{className:"SettingsFooter-link",href:"https://www.zhihu.com/question/19581624",target:"_blank",rel:"noopener noreferrer"},"知乎指南"),vt.a.createElement("span",{className:"SettingsFooter-dot"},"·"),vt.a.createElement("a",{className:"SettingsFooter-link",href:"https://www.zhihu.com/app",target:"_blank",rel:"noopener noreferrer"},"移动应用"),vt.a.createElement("span",{className:"SettingsFooter-dot"},"·"),vt.a.createElement("a",{className:"SettingsFooter-link",href:"http://zhihu.zhiye.com/home",target:"_blank",rel:"noopener noreferrer"},"加入知乎"),vt.a.createElement("span",{className:"SettingsFooter-dot"},"·"),vt.a.createElement("a",{className:"SettingsFooter-link",href:"https://www.zhihu.com/terms",target:"_blank",rel:"noopener noreferrer"},"知乎协议"),vt.a.createElement("span",{className:"SettingsFooter-dot"},"·"),vt.a.createElement("a",{className:"SettingsFooter-link",href:"https://www.zhihu.com/jubao",target:"_blank",rel:"noopener noreferrer"},"举报投诉"),vt.a.createElement("span",{className:"SettingsFooter-dot"},"·"),vt.a.createElement("a",{className:"SettingsFooter-link",href:"https://www.zhihu.com/contact",target:"_blank",rel:"noopener noreferrer"},"联系我们")))}function a(){return vt.a.createElement("nav",{className:"SettingsNav"},vt.a.createElement("ol",null,At.map(function(e){var t=e.zhihuIcon,n=e.icon,r=e.name,a=e.to;return vt.a.createElement("li",{key:r},vt.a.createElement(gt.Link,{to:a,className:"SettingsNav-link",activeClassName:"is-active"},t?vt.a.createElement(t,{size:16}):n,vt.a.createElement("span",{className:"SettingsNav-linkTxt"},r)))})))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e){var t=e.title,n=e.subTitle,r=e.descr;return vt.a.createElement("div",{className:"SettingsTitle"},t&&vt.a.createElement("h2",{className:"SettingsTitle-title"},t),n&&vt.a.createElement("h4",{className:"SettingsTitle-subTitle"},n),vt.a.createElement("div",{className:"SettingsTitle-descr"},r))}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function P(e){return{supportedCountries:e.sms.supportedCountries}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function R(e){return{socialBind:e.settings.socialBind}}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function V(){return"undefined"==typeof document?null:document.querySelector(".VerificationDialogModalHeader")}function Q(e){return!(!Array.isArray(e)||!e.length)&&e.find(function(e){return"force_reset_password"===e.name})}function H(e){var t=Object(Ct.c)(e);return{account:e.account,currentUser:t,isForceResetPassword:Q(t.accountStatus)}}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function X(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[{value:"all",label:Pr.all},{value:"follow",label:Pr.follow}];return e&&t.push({value:"off",label:Pr.off}),t}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ua.user[0];if("boolean"==typeof e.switch&&!e.switch)return{value:"off",label:Pr.off};var n=Pr[e.scope];return n?{value:e.scope,label:n}:oa({},t)}function Z(e){var t=ua.notify[e.switch?0:1];return oa({},t)}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function de(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function he(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return ka({},Oa[2]);var t=Pr[e.scope];return t?{value:e.scope,label:t}:ka({},Oa[0])}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ve(e){var t=e.settings;return{inboxMsg:t.inboxMsg,notification:t.notification}}function ge(e){var t=e.user,n=e.handleUnblockClick,r=e.avatarSize,a=void 0===r?30:r,o=t.urlToken,i=t.name,c=t.avatarUrl,l=Ut()("UserPageItem",{"UserPageItem--withButton":Boolean(n)});return vt.a.createElement("div",{className:l},vt.a.createElement("a",{className:"UserPageItem-link",href:"/people/"+o,target:"_blank",title:i},vt.a.createElement(ja.a,{size:a,url:c,alt:i}),vt.a.createElement("span",{className:"UserPageItem-name"},Object(Ta.a)(i,3))),n&&vt.a.createElement(It.c,{className:"UserPageItem-unblock",preset:"link",onClick:t.isBlocked?n(t):void 0},t.isBlocked?"取消屏蔽":"已恢复"))}function Ee(e){var t=e.data,n=void 0===t?[]:t,r=e.handleUnblockClick,a=e.avatarSize,o=void 0===a?40:a;return n.length?vt.a.createElement("section",{className:"UserPageContent"},n.map(function(e,t){return vt.a.createElement(ge,{key:e.urlToken+"-"+t,user:e,handleUnblockClick:r,avatarSize:o})})):null}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function qe(e){return{restrictedTopics:e.settings.restrictedTopics}}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ie(e){return{blockedUsers:e.settings.blockedUsers,blockedFollowees:e.settings.blockedFollowees,ignoredTopics:e.settings.ignoredTopics}}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Le(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ve(e){var t=e.username;return vt.a.createElement("section",{className:"WatermarkPreferenceExamples"},vt.a.createElement("div",null,vt.a.createElement("div",{className:"WatermarkPreferenceExamples-card"},vt.a.createElement("img",{className:"WatermarkPreferenceExamples-bg",src:"//zhstatic.zhihu.com/assets/zhihu/settings/watermark-bg.png",alt:"背景"}),vt.a.createElement("div",{className:"WatermarkPreferenceExamples-signature"},vt.a.createElement("img",{src:"//zhstatic.zhihu.com/assets/zhihu/settings/zhihu-logo@2x.png",width:"26",height:"13",alt:"知乎"}),vt.a.createElement("span",{className:"WatermarkPreferenceExamples-username"},"@",t))),vt.a.createElement("div",{className:"WatermarkPreferenceExamples-status"},"正常状态下")),vt.a.createElement("div",null,vt.a.createElement("div",{className:"WatermarkPreferenceExamples-card"},vt.a.createElement("img",{className:"WatermarkPreferenceExamples-bg",src:"//zhstatic.zhihu.com/assets/zhihu/settings/watermark-bg.png",alt:"背景"}),vt.a.createElement("div",{className:"WatermarkPreferenceExamples-signature"},vt.a.createElement("img",{src:"//zhstatic.zhihu.com/assets/zhihu/settings/anonymous@2x.png",width:"50",height:"13",alt:"知乎用户"}))),vt.a.createElement("div",{className:"WatermarkPreferenceExamples-status"},"匿名和隐私保护状态下")))}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ye(e){return{currentUser:Object(Ct.c)(e)}}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ze(e){var t=e.className,n=e.id,r=e.name,a=e.label,o=e.des,i=e.onClick,c=e.isChecked,l=void 0!==c&&c;return vt.a.createElement("div",{className:Ut()("SingleCheckRadio",t)},vt.a.createElement("input",{className:"SingleCheckRadio-input",type:"radio",id:n,name:r,onChange:i,checked:l}),vt.a.createElement("label",{htmlFor:n,className:"SingleCheckRadio-label"},a,vt.a.createElement("span",{className:"SingleCheckRadio-des"},o)))}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function tt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function at(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ct(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function lt(e){return{switches:e.switches}}function st(){if("undefined"!=typeof document){var e=document.getElementById("SettingsMain");return e?e.offsetTop:0}return 0}function ut(e){return!!e&&("organization"!==e.userType||{redirect:"/settings/account"})}Object.defineProperty(t,"__esModule",{value:!0});var pt,ft,dt,ht,mt,bt,yt=n(0),vt=n.n(yt),gt=n(17),Et=n(105),wt=n.n(Et),kt=n(5),Ot=n(518),St=n.n(Ot),_t=n(566),Pt=n(285),Ct=n(18),Nt=n(1),jt=n.n(Nt),Tt=(n(2796),r),xt=n(8),At=(n(2797),[{zhihuIcon:xt._51,name:"帐户与密码",to:"/settings/account"},{zhihuIcon:xt.r,name:"消息",to:"/settings/notification"},{zhihuIcon:null,icon:vt.a.createElement(xt.q,{size:18,style:{margin:"-1px"}}),name:"屏蔽",to:"/settings/filter"},{zhihuIcon:xt._37,name:"隐私",to:"/settings/privacy"},{zhihuIcon:xt._65,name:"偏好设置",to:"/settings/preference"}]),qt=Object(gt.withRouter)(a),Rt=qt,Ft=n(2),Ut=n.n(Ft),It=n(3),Dt=n(9),zt=n(1424),Mt=(n(2798),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Wt=jt.a.oneOfType([jt.a.string,jt.a.element]),Bt=(ft=pt=function(e){function t(){var e,n,r,a;o(this,t);for(var c=arguments.length,l=Array(c),s=0;s<c;s++)l[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={isExpanded:!1,willBlink:!1,focusTime:0},r.handleQuestionClick=function(){var e=!r.state.isExpanded,t=r.props.onExpand,n="function"==typeof t?function(){return t(e)}:void 0;r.setState({isExpanded:e,willBlink:!1},n)},a=n,i(r,a)}return c(t,e),Mt(t,[{key:"render",value:function(){var e=this.props,t=e.question,n=e.answer,r=this.state,a=r.isExpanded,o=r.willBlink,i=Ut()("SettingsQA",{"is-expanded":Boolean(a&&n),"SettingsQA--blink":o});return vt.a.createElement("dl",{className:i},vt.a.createElement("dt",{onClick:this.handleQuestionClick},t),n&&vt.a.createElement("dd",{className:Ut()("SettingsQA-answer",{"is-expanded":a})},n))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.focusTime>t.focusTime){var n=t.isExpanded,r=!0===n;return{isExpanded:n||!0,willBlink:r,focusTime:e.focusTime}}return null}}]),t}(yt.PureComponent),pt.propTypes={unique:jt.a.string.isRequired,question:Wt.isRequired,answer:Wt,focusTime:jt.a.number,onExpand:jt.a.func},pt.defaultProps={focusTime:0},ft),Lt={password_reset:"https://www.zhihu.com/account/password_reset",appeal:"https://www.zhihu.com/account/appeal",contact_zhihu_admin:"https://www.zhihu.com/inbox/6479654600",limited_topic:"https://www.zhihu.com/question/20806546"},Vt=function(e){return{unique:"website-failed",question:vt.a.createElement("div",{className:"js-faq-open-zfeedback"},e+".网站出现了问题？",vt.a.createElement("a",{className:"js-faq-open-zfeedback",title:"问题反馈"},"问题反馈")),answer:null}},Qt={SECOND_VERIFY:"second-verify",PHONE_EMAIL_DISABLED:"phone-email-disabled",FORGET_PASSWORD:"forget-password",PHONE_LOST:"phone-lost",PHONE_OCCUPIED:"phone-occupied",WEBSITE_FAILED:"website-failed"},Ht=[{unique:Qt.SECOND_VERIFY,question:"1.为什么要进行二次验证？",answer:vt.a.createElement("div",null,"    二次验证可以有效防止盗号，维护号主自身权益。在修改密码、换绑手机、换绑邮箱前需需统一验证，通过后 30 分钟内无需再次验证。")},{unique:Qt.PHONE_EMAIL_DISABLED,question:"2.二次验证的手机/邮箱不可用？",answer:vt.a.createElement("div",null,vt.a.createElement("div",null,vt.a.createElement("span",{className:"faq-dot"})," 点此进行",vt.a.createElement("a",{target:"_blank",href:Lt.appeal,title:"人工申诉"},"人工申诉")),vt.a.createElement("div",null,vt.a.createElement("span",{className:"faq-dot"})," 申诉失败？点此联系",vt.a.createElement("a",{target:"_blank",href:Lt.contact_zhihu_admin,title:"知乎小管家"},"知乎小管家")))},{unique:Qt.FORGET_PASSWORD,question:"3.忘记密码怎么办？",answer:vt.a.createElement("div",null,vt.a.createElement("div",null,vt.a.createElement("span",{className:"faq-dot"})," 已绑定手机/邮箱，点此",vt.a.createElement("a",{target:"_blank",href:Lt.password_reset,title:"重置密码"},"重置密码")),vt.a.createElement("div",null,vt.a.createElement("span",{className:"faq-dot"})," 未绑定手机和邮箱，点此",vt.a.createElement("a",{target:"_blank",href:Lt.appeal,title:"人工申诉"},"人工申诉")))},{unique:Qt.PHONE_LOST,question:"4.手机丢失，手机号不可用怎么办？",answer:vt.a.createElement("div",null,vt.a.createElement("div",null,vt.a.createElement("span",{className:"faq-dot"})," 如果已绑定邮箱，可使用邮箱二次验证后更换手机号"),vt.a.createElement("div",null,vt.a.createElement("span",{className:"faq-dot"})," 未绑定邮箱且未设置密码，点此",vt.a.createElement("a",{target:"_blank",href:Lt.appeal,title:"人工申诉"},"人工申诉")))},{unique:Qt.PHONE_OCCUPIED,question:"5.我要绑定的手机号提示我已经注册了，怎么办？",answer:vt.a.createElement("div",null,vt.a.createElement("div",null,vt.a.createElement("span",{className:"faq-dot"})," 通过手机号+验证码的形式登陆确认是否为自己的帐号"),vt.a.createElement("div",null,vt.a.createElement("span",{className:"faq-dot"})," 如该手机号近期进行过绑定操作，则 180 天内无法再次执行绑定、换绑操作"))}],Gt={WHAT_IS_STRANGER_INBOX:"what-is-stranger-inbox",WHEN_NOTIFIED_ALL_NEW_ANSWER:"when-notified-all-new-answer",WEBSITE_FAILED:"website-failed"},Yt=[{unique:Gt.WHAT_IS_STRANGER_INBOX,question:"1.什么是陌生人私信箱，开启后会怎样？",answer:vt.a.createElement("div",null,"    陌生人私信箱可以减少陌生私信打扰，提高私信的浏览效率。",vt.a.createElement("br",null),"    开启后，陌生私信将统一被放入陌生人私信箱，除非主动查看回复，该用户的私信将不会显示在私信列表。")},{unique:Gt.WHEN_NOTIFIED_ALL_NEW_ANSWER,question:"2.什么是「获取所有新回答通知」，选中之后会发生什么？",answer:vt.a.createElement("div",null,"    正常情况下，当一个新回答产生后，我们会按一定规则将它先发送给某些用户，根据这些用户的反馈（点赞，感谢，没有帮助等）决定该回答后续的推送，以此确保大部分关注者可以接收到更加优质的回答。",vt.a.createElement("br",null),"    「获取所有新回答通知」即不经过用户反馈，直接获取全部新回答。选中后， 你会收到更多的新回答通知，但是无法得到保证回答质量。")}],Kt={BLOCKED_USER:"blocked-user",BLOCKED_TOPIC:"blocked-topic",LIMITED_TOPIC:"limited-topic",LIMITED_USER:"limited-user",WEBSITE_FAILED:"website-failed"},Xt=[{unique:Kt.BLOCKED_USER,question:"1.屏蔽用户后会发生什么？",answer:"屏蔽后，对方将不能关注你，向你发私信，评论你的实名回答，使用「@」提及你，邀请你回答问题等，但仍然可以查看你的公开信息。"},{unique:Kt.BLOCKED_TOPIC,question:"2.屏蔽话题后会发生什么？",answer:"屏蔽后，在首页的动态中将不会出现该话题下的内容。"},{unique:Kt.LIMITED_TOPIC,question:"3.什么是「受限话题」？为什么这些话题下的内容要受到限制？",answer:vt.a.createElement("div",null,"    「受限话题」是一类特殊的话题，该类话题不利于普通用户。该类话题下的内容将不会进入知乎发现、每周精选、知乎阅读等公共内容列表，不会在受限话题的父话题页面显示，也不会出现在用户个人首页动态中。",vt.a.createElement("a",{target:"_blank",href:Lt.limited_topic,title:"了解更多"},"了解更多"))},{unique:Kt.LIMITED_USER,question:"4.什么是「限制名单」？将用户加入「限制名单」后会发生什么？",answer:vt.a.createElement("div",null,"    「限制名单」是在保证用户社交关系下，选择不看某些用户的内容所推出的功能。",vt.a.createElement("br",null),"    将某个用户加入「限制名单」后，对方的动态将不会出现在首页「关注」和想法中，但不影响你们的关注关系，也可以正常发送私信，评论，邀请回答等。")}],Jt={PRIVACY_COVERAGE:"privacy-coverage",WEBSITE_FAILED:"website-failed"},Zt=[{unique:Jt.PRIVACY_COVERAGE,question:"1.「隐私保护」设置在什么范围内生效？适合哪些用户？",answer:vt.a.createElement("div",null,"    在知乎网、知乎日报和面向站外的内容精选和用户推荐中，这个设置都会生效。但是，其他用户在回答里提到的你的名字并不会被隐藏，如果内容已经被搜索引擎收录，则需要等待一段时间才会生效。",vt.a.createElement("br",null),"    这个选项可以为担心隐私泄露的用户提供一定的保护。相反，如果你认为你在知乎上的互动可以丰富你的个人形象，希望更多人由此了解你，那你可以选择在单独的问题下使用匿名身份来保护隐私，而非使用这个功能。")}],$t={WHAT_IS_PREFERENCE:"what-is-preference",WEBSITE_FAILED:"website-failed"},en=[{unique:$t.WHAT_IS_PREFERENCE,question:"1.「偏好设置」是一个怎样的板块？",answer:vt.a.createElement("div",null,"    在「偏好设置」中，我们为用户提供了更加个性化的设置项，例如新功能体验、为图片添加水印等。",vt.a.createElement("br",null),"    我们鼓励用户在「偏好设置」中选择适合自己的设置项，在使用过程中有任何建议可以通过问题反馈给我们，知乎期待和你一起成长。")}],tn={account:[{title:"帐号与密码",questions:Ht},{title:"其他问题",questions:[Vt(Ht.length+1)]}],notification:[{title:"消息",questions:Yt},{title:"其他问题",questions:[Vt(Yt.length+1)]}],filter:[{title:"屏蔽",questions:Xt},{title:"其他问题",questions:[Vt(Xt.length+1)]}],privacy:[{title:"隐私",questions:Zt},{title:"其他问题",questions:[Vt(Zt.length+1)]}],preference:[{title:"偏好设置",questions:en},{title:"其他问题",questions:[Vt(en.length+1)]}]},nn=(n(2799),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),rn={fill:"#8590A6",size:16},an=Dt.f+12,on=(ht=dt=function(e){function t(){var e,n,r,a;l(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={isFixedView:!1,isExpanded:!0},r.dynamicSticky=null,r.handleQuestionExpand=function(){r.dynamicSticky&&St()(function(){return r.dynamicSticky.check()})},r.handleToggleClick=function(){var e=r.state.isExpanded;r.setState({isExpanded:!e})},r.handleClick=function(e){var t=e.target,n=t.tagName,r=t.classList;["DIV","A"].includes(n)&&r.contains("js-faq-open-zfeedback")&&window.zfeedback&&window.zfeedback.open()},a=n,s(r,a)}return u(t,e),nn(t,[{key:"checkScreenSize",value:function(){if("undefined"!=typeof window){var e=window.innerWidth<=768;e&&this.setState({isFixedView:e,isExpanded:!1})}}},{key:"componentDidMount",value:function(){this.checkScreenSize()}},{key:"render",value:function(){var e=this,t=this.props,n=t.category,r=t.targetQuestion,a=void 0===r?{}:r,o=tn[n];if(!o)return null;var i=this.state,c=i.isFixedView,l=i.isExpanded,s=c?vt.a.createElement(It.c,{className:"SettingsFAQ-toggle",onClick:this.handleToggleClick,preset:"link"},l?vt.a.createElement(xt._7,rn):vt.a.createElement(xt._6,rn)):null,u=Ut()("SettingsFAQ-sectionWrap",{"is-fixed":c,"is-collapsed":!l}),p=vt.a.createElement("article",{className:"SettingsFAQ",onClick:this.handleClick},vt.a.createElement("h3",{className:"SettingsFAQ-pageTitle"},vt.a.createElement("span",null,"常见问题"),s),vt.a.createElement("div",{className:u},o.map(function(t){var n=t.title,r=t.questions;return vt.a.createElement("section",{key:n,className:"SettingsFAQ-section"},vt.a.createElement("h4",{className:"SettingsFAQ-faqTitle"},n),r.map(function(t){var n=t.unique,r=t.question,o=t.answer,i=n===a.key?a.timestamp:0;return vt.a.createElement(Bt,{key:n,unique:n,question:r,answer:o,focusTime:i,onExpand:e.handleQuestionExpand})}))})));return c?p:vt.a.createElement(zt.a,{offset:an,ref:function(t){e.dynamicSticky=t}},p)}}]),t}(yt.PureComponent),dt.propTypes={category:jt.a.string.isRequired,targetQuestion:jt.a.shape({key:jt.a.string,timestamp:jt.a.number})},ht),cn=vt.a.createContext({focusQuestion:function(){}}),ln=on,sn=(n(2800),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),un=Object.keys(tn),pn=(bt=mt=function(e){function t(){var e,n,r,a;p(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={targetQuestion:{key:null,timestamp:0}},r.focusQuestion=function(e){r.setState({targetQuestion:{key:e,timestamp:Date.now()}})},a=n,f(r,a)}return d(t,e),sn(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.category,r=this.state.targetQuestion;return vt.a.createElement("div",{id:"SettingsMain",className:"SettingsMain"},vt.a.createElement("div",{className:"SettingsMain-layout"},vt.a.createElement("div",null,vt.a.createElement("div",{className:"SettingsMain-mainColumn"},vt.a.createElement(Rt,null),vt.a.createElement("div",{className:"SettingsMain-page"},vt.a.createElement(cn.Provider,{value:{focusQuestion:this.focusQuestion}},t))),vt.a.createElement(Tt,null)),vt.a.createElement("div",{className:"SettingsMain-sideColumn"},vt.a.createElement(ln,{category:n,targetQuestion:r}))))}}]),t}(yt.PureComponent),mt.propTypes={category:jt.a.oneOf(un).isRequired},bt),fn=pn;n(2801);h.propTypes={title:jt.a.string,subTitle:jt.a.string,descr:jt.a.node.isRequired};var dn,hn,mn,bn,yn,vn,gn,En,wn,kn,On,Sn,_n,Pn,Cn,Nn,jn,Tn,xn,An,qn,Rn,Fn,Un,In,Dn,zn,Mn,Wn,Bn,Ln,Vn,Qn,Hn,Gn,Yn,Kn,Xn,Jn,Zn,$n,er,tr,nr,rr,ar,or,ir,cr,lr,sr=h,ur=sr,pr=(n(2802),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),fr=jt.a.oneOfType([jt.a.func,jt.a.node]),dr=function(e){return"function"==typeof e},hr=(hn=dn=function(e){function t(){var e,n,r,a;m(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={isExpanded:!1},r.handleEditClick=function(){var e=r.state.isExpanded,t=r.props,n=t.canExpand,a=t.onExpand,o=!e,i="function"==typeof a?function(){return a(o)}:void 0;if(o&&"function"==typeof n)return void n().then(function(){return r.setState({isExpanded:!0},i)},function(){});r.setState({isExpanded:o},i)},a=n,b(r,a)}return y(t,e),pr(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.descr,r=e.children,a=e.bordered,o=e.size,i=e.disabled,c=this.state.isExpanded,l=c?"收起":"编辑",s=Ut()("ExpandableField","ExpandableField--"+o,{"is-expanded":c}),u=Ut()("ExpandableField-titleView",{"ExpandableField-titleView--bordered":a}),p=Ut()("ExpandableField-content",{"is-expanded":c});return vt.a.createElement("div",{className:s},vt.a.createElement("div",{className:u},vt.a.createElement("h4",{className:"ExpandableField-title"},t),n&&vt.a.createElement("div",{className:"ExpandableField-descr"},dr(n)?n(c):n),vt.a.createElement(It.c,{className:"ExpandableField-edit",onClick:this.handleEditClick,preset:"link",disabled:i},l)),vt.a.createElement("div",{className:p},dr(r)?r(c):r))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.expanded;return"boolean"==typeof n&&n!==t.isExpanded?{isExpanded:n}:null}}]),t}(yt.PureComponent),dn.propTypes={title:jt.a.string.isRequired,descr:fr,children:fr.isRequired,canExpand:jt.a.func,onExpand:jt.a.func,bordered:jt.a.bool,size:jt.a.oneOf(["default","narrow"]),disabled:jt.a.bool,expanded:jt.a.bool},dn.defaultProps={bordered:!0,size:"default",disabled:!1},hn),mr=hr,br=n(75),yr=n(81),vr=(n(2803),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),gr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Er=(mn=Object(kt.connect)(null,{resetPassword:Pt.o}))(bn=function(e){function t(){var e,n,r,a;g(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={password:"",repeatPassword:"",validateError:{password:null,repeatPassword:null}},r.passwordEl=null,r.handleInputChange=function(e){return function(t){var n,a=t.target.value,o=r.state.validateError,i=vr({},o);"password"===e&&i.password?i.password=null:"repeatPassword"===e&&o.repeatPassword&&(i.repeatPassword=null),r.setState((n={},v(n,e,a),v(n,"validateError",i),n))}},r.handleSubmit=function(){var e=r.validate();return!!e&&r.props.resetPassword(e,{success:"密码已更新"}).then(function(){return r.setState({password:"",repeatPassword:""})}).catch(r.handleRequestError("password"))},r.handleRequestError=function(e){return function(t){var n=t.payload;n=void 0===n?{}:n;var a=n.message,o=r.state.validateError;return o[e]=a,r.setState({validateError:o})}},a=n,E(r,a)}return w(t,e),gr(t,[{key:"validate",value:function(){var e=this,t=this.state,n=t.password,r=t.repeatPassword,a=t.validateError,o=vr({},a),i=n.trim();return i.length<8?(o.password="8 位以上数字和字母",this.setState({validateError:o},function(){e.passwordEl&&e.passwordEl.focus()}),null):i!==r.trim()?(o.repeatPassword="两次输入不一致",this.setState({validateError:o}),null):((o.password||o.repeatPassword)&&(o.password=null,o.repeatPassword=null,this.setState({validateError:o})),i)}},{key:"render",value:function(){var e=this,t=this.state,n=t.validateError,r=t.password,a=t.repeatPassword;return vt.a.createElement(yr.b,{className:"AccountPassword",onSubmit:this.handleSubmit},vt.a.createElement("div",{className:"AccountPassword-inputWrap"},vt.a.createElement(br.a,{className:"AccountPassword-input",type:"password",placeholder:"输入新密码",value:r,onChange:this.handleInputChange("password"),validationError:n.password,onRef:function(t){e.passwordEl||(e.passwordEl=t)}}),vt.a.createElement("div",{className:"AccountPassword-hint"},n.password||"8 位以上数字和字母")),vt.a.createElement("div",{className:"AccountPassword-inputWrap"},vt.a.createElement(br.a,{className:"AccountPassword-input",type:"password",placeholder:"请重新输入新密码",value:a,onChange:this.handleInputChange("repeatPassword"),validationError:n.repeatPassword}),vt.a.createElement("div",{className:"AccountPassword-hint"},n.repeatPassword)),vt.a.createElement(It.c,{className:"AccountPassword-submit",color:"blue",preset:"primary",type:"submit"},"提交"))}}]),t}(yt.Component))||bn,wr=Er,kr=n(175),Or=n(557),Sr=n(556),_r=n(195),Pr={all:"所有人",follow:"我关注的人",off:"不接收通知"},Cr={on:"接收通知",off:"不接收通知"},Nr=(n(2804),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),jr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Tr=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([""," 秒后可重试"],[""," 秒后可重试"]),xr=(yn=Object(kt.connect)(P,{getAccountPhoneVerifyCode:Pt.e,updateAccountPhone:Pt.r,getSupportedCountries:_r.b}))((En=gn=function(e){function t(){var e,n,r,a;O(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={country:{name:"中国",code:"+86"},phone:"",vcode:"",validateError:{phone:null,vcode:null},interceptTime:-1},r.phoneEl=null,r.handleCountrySelect=function(e,t){var n=r.props.supportedCountries,a=n[t];a&&a.code&&r.setState({country:a})},r.handleInputChange=function(e){return function(t){var n,a=t.target.value,o=r.state.validateError,i=Nr({},o);"phone"===e&&i.phone?i.phone=null:"vcode"===e&&o.vcode&&(i.vcode=null),r.setState((n={},k(n,e,a),k(n,"validateError",i),n))}},r.handleRequestCode=function(){var e=r.props,t=e.getAccountPhoneVerifyCode,n=e.account.unlockTicket,a=r.state;return t(""+a.country.code+a.phone,n).catch(r.handleRequestError("phone"))},r.handleRequestError=function(e){return function(t){var n=t.payload;n=void 0===n?{}:n;var a=n.message,o=r.state.validateError;return o[e]=a,"phone"===e?r.setState({validateError:o,interceptTime:Date.now()}):r.setState({validateError:o})}},r.handleSubmit=function(){var e=r.validate();if(!e)return!1;var t=r.props,n=t.updateAccountPhone,a=t.account.unlockTicket;return n(""+r.state.country.code+e.phone,e.vcode,a,{success:"手机号码已更改"}).then(function(){return r.setState({phone:"",vcode:"",interceptTime:Date.now()})}).catch(r.handleRequestError("vcode"))},a=n,S(r,a)}return _(t,e),jr(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.supportedCountries,n=e.getSupportedCountries;t&&t.length||n()}},{key:"validate",value:function(){var e=this,t=this.state,n=t.phone,r=t.vcode,a=t.validateError,o=Nr({},a),i=n.trim();if(i.length<6)return o.phone="输入手机号",this.setState({validateError:o},function(){e.phoneEl&&e.phoneEl.focus()}),null;var c=r.trim();return 6!==c.length?(o.vcode="输入验证码",this.setState({validateError:o}),null):((o.phone||o.vcode)&&(o.phone=null,o.vcode=null,this.setState({validateError:o})),{phone:i,vcode:c})}},{key:"render",value:function(){var e=this,t=this.props.supportedCountries,n=this.state,r=n.validateError,a=n.phone,o=n.vcode,i=n.country,c=n.interceptTime;return vt.a.createElement(yr.b,{className:"AccountPhone",onSubmit:this.handleSubmit},vt.a.createElement("div",{className:"AccountPhone-inputWrap"},vt.a.createElement("div",{className:"AccountPhone-selectWrap"},Boolean(t&&t.length)&&vt.a.createElement(kr.b,{plain:!0,text:i.code,onChange:this.handleCountrySelect,targetClassName:"AccountPhone-supportedCountriesList"},t.map(function(e,t){var n=e.name,r=e.code;return vt.a.createElement(kr.a,{key:t,value:n+" "+r})}))),vt.a.createElement(br.a,{className:"AccountPhone-input AccountPhone-inputPhone",placeholder:"输入手机号",value:a,onChange:this.handleInputChange("phone"),validationError:r.phone,onRef:function(t){e.phoneEl||(e.phoneEl=t)}}),vt.a.createElement("div",{className:"AccountPhone-hint"},r.phone)),vt.a.createElement("div",{className:"AccountPhone-inputWrap"},vt.a.createElement(br.a,{className:"AccountPhone-input AccountPhone-inputCode",placeholder:"请输入 6 位验证码",value:o,onChange:this.handleInputChange("vcode"),validationError:r.vcode}),vt.a.createElement(Sr.a,{className:"AccountPhone-btnCode",preset:"primary",initialText:"发送验证码",countingText:Object(Or.a)(Tr,"count"),interceptTime:c,event:this.handleRequestCode,disabled:a.length<6}),vt.a.createElement("div",{className:"AccountPhone-hint"},r.vcode)),vt.a.createElement(It.c,{className:"AccountPhone-submit",color:"blue",preset:"primary",type:"submit",disabled:6!==o.length},"提交"))}}]),t}(yt.Component),gn.propTypes={account:jt.a.object.isRequired},vn=En))||vn,Ar=xr,qr=n(318),Rr=n(15),Fr=(n(2805),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Ur=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([""," 秒后可重试"],[""," 秒后可重试"]),Ir=(wn=Object(kt.connect)(null,{showNotification:Rr.g,requestEmailVerifyCode:Pt.k,updateEmail:Pt.s,activeEmail:Pt.a}))((Sn=On=function(e){function t(){var e,n,r,a;N(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={isEditMode:!1,newEmail:"",vcode:"",validationError:null,activeInterceptTime:-1,codeInterceptTime:-1},r.inputEl=null,r.toggleEditMode=function(){var e=!r.state.isEditMode;r.setState({isEditMode:e,newEmail:"",vcode:"",codeInterceptTime:Date.now()})},r.handleInputChange=function(e){return function(t){var n=t.target.value;r.setState(C({},e,n))}},r.handleActiveEmail=function(){var e=r.props,t=e.activeEmail,n=e.showNotification;return t({success:"请查收邮件并激活",failure:!1}).catch(function(e){var t=e.payload;t=void 0===t?{}:t;var a=t.message;if(a)return n(a,"red"),r.setState({activeInterceptTime:Date.now()})})},r.handleRequestCode=function(){var e=r.props,t=e.requestEmailVerifyCode,n=e.account.unlockTicket;return t(r.state.newEmail,n).catch(function(e){var t=e.payload;t=void 0===t?{}:t;var n=t.message;return r.setState({validationError:n,codeInterceptTime:Date.now()})})},r.handleSubmit=function(){if(!r.validate())return!1;var e=r.props,t=e.updateEmail,n=e.account.unlockTicket,a=r.state;return t(a.newEmail,a.vcode,n,{success:"邮箱已更新"}).then(function(){return r.toggleEditMode()})},a=n,j(r,a)}return T(t,e),Fr(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.isExpanded;t!==e.isExpanded&&!t&&this.state.isEditMode&&this.toggleEditMode()}},{key:"validate",value:function(){var e=this,t=this.state,n=t.newEmail,r=t.validationError;return Object(qr.a)(n)?(r&&this.setState({validationError:null}),!0):(this.setState({validationError:"请输入正确的邮箱格式"},function(){e.inputEl&&e.inputEl.focus()}),!1)}},{key:"render",value:function(){var e=this,t=this.props.account.accountInfo,n=void 0===t?{}:t,r=this.state,a=r.isEditMode,o=r.newEmail,i=r.vcode,c=r.validationError,l=r.activeInterceptTime,s=r.codeInterceptTime,u=n.email,p=void 0===u?"":u,f=n.actived;return vt.a.createElement(yr.b,{className:"AccountEmail",onSubmit:this.handleSubmit},vt.a.createElement("div",{className:"AccountEmail-inputWrap"},a?vt.a.createElement(br.a,{className:"AccountEmail-input",value:o,onChange:this.handleInputChange("newEmail"),validationError:c,onRef:function(t){e.inputEl||(e.inputEl=t)}}):vt.a.createElement(yt.Fragment,null,vt.a.createElement("span",{className:"AccountEmail-label"},p),Boolean(p&&!f)&&vt.a.createElement(Sr.a,{className:"AccountEmail-btnActive",preset:"primary",color:"blue",countDownTime:10,initialText:"激活",countingText:Object(Or.a)(Ur,"count"),interceptTime:l,event:this.handleActiveEmail}),vt.a.createElement(It.c,{className:"AccountEmail-btn",preset:"primary",onClick:this.toggleEditMode},p?"更换":"绑定","邮箱"))),a&&vt.a.createElement(yt.Fragment,null,vt.a.createElement("div",{className:"AccountEmail-inputWrap"},vt.a.createElement(br.a,{className:"AccountEmail-input AccountEmail-vcodeInput",value:i,onChange:this.handleInputChange("vcode"),placeholder:"请输入 6 位验证码"}),vt.a.createElement(Sr.a,{className:"AccountEmail-btn AccountEmail-btn--large",preset:"primary",initialText:"发送验证码",countingText:Object(Or.a)(Ur,"count"),interceptTime:s,event:this.handleRequestCode,disabled:!Object(qr.a)(o)})),vt.a.createElement(It.c,{className:"AccountEmail-submit",color:"blue",preset:"primary",type:"submit",disabled:6!==i.length},"绑定")))}}]),t}(yt.Component),On.propTypes={account:jt.a.object.isRequired,isExpanded:jt.a.bool},On.defaultProps={isExpanded:!1},kn=Sn))||kn,Dr=Ir,zr=n(29),Mr=n.n(zr),Wr=n(178),Br=n(507),Lr=(n(2806),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Vr={wechat:"微信",sina:"微博",qqconn:"QQ"},Qr=[{key:"wechat",label:"绑定"+Vr.wechat,icon:vt.a.createElement("i",{className:"AccountSocial-ico AccountSocial-icoWeChat"},vt.a.createElement(xt._82,{fill:"#ffffff",size:16})),oauthUrl:"/oauth/redirect/bind/wechat?next=/oauth/callback&from=/settings/account"},{key:"sina",label:"绑定"+Vr.sina,icon:vt.a.createElement("i",{className:"AccountSocial-ico AccountSocial-icoWeibo"},vt.a.createElement(xt._83,{fill:"#ffffff",size:16})),oauthUrl:"/oauth/redirect/bind/sina?next=/oauth/callback&from=/settings/account"},{key:"qqconn",label:"绑定 "+Vr.qqconn,icon:vt.a.createElement("i",{className:"AccountSocial-ico AccountSocial-icoQQ"},vt.a.createElement(xt._53,{fill:"#ffffff",size:16})),oauthUrl:"/oauth/redirect/bind/qqconn?next=/oauth/callback&from=/settings/account"}],Hr=(_n=Object(kt.connect)(R,{getSocialBind:Br.j,unbindSocialAccount:Br.l,deleteSocialAccount:Br.b,showNotification:Rr.g}))((Nn=Cn=function(e){function t(){var e,n,r,a;x(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=A(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleUnbindClick=function(e){return function(){var t=r.props,n=t.unbindSocialAccount,a=function(){var t=Vr[e];return Wr.a.confirm(vt.a.createElement("div",{className:"SettingsAlert"},vt.a.createElement("h2",null,"解绑社交帐号"),"解绑",t,"后你将无法使用",t,"登录知乎，你确定要解绑吗？"),{text:{ok:"解绑",cancel:"暂不解绑"}}).then(function(){n(e,{success:"解绑"+t+"成功",failure:!0}).catch(r.handleUnbindError(e))},function(){})};return(0,t.requireUnlocked)().then(function(){return a()})}},r.handleUnbindError=function(e){return function(t){var n=t.payload;n=void 0===n?{}:n;var a=n.code,o=n.message;return a===Dt.o?r.confirmDeleteAccount(e):o?r.props.showNotification(o,"red"):t}},r.handleBindClick=function(e){return function(){r.props.requireUnlocked().then(function(){return location.href=e})}},a=n,A(r,a)}return q(t,e),Lr(t,[{key:"confirmDeleteAccount",value:function(e){var t=this,n=Vr[e];return Wr.a.confirm(vt.a.createElement("div",{className:"SettingsAlert"},vt.a.createElement("h2",null,"解绑帐号"),"由于你没有设置其他登录方式。解除",n,"绑定后：",vt.a.createElement("ul",{className:"AccountSocial-deletionNotices"},vt.a.createElement("li",null,vt.a.createElement("b",null,"你将永久无法再登录此帐号，且此操作不可撤销。")),vt.a.createElement("li",null,"你的个人主页资料和动态仍会保留。"),vt.a.createElement("li",null,"你可以使用其他知乎帐号绑定此",n,"帐号。")),"确定解绑吗？"),{text:{ok:"确定解绑"}}).then(function(){t.props.deleteSocialAccount(e).then(function(){location.href="/"})},function(){})}},{key:"checkOAuthCallback",value:function(){var e="zhihu::oauth_status",t=Mr.a.get(e);if(t&&Vr[t.type]){var n=Vr[t.type],r=this.props.showNotification;t.isError?r(t.error_message||t.message||n+"帐号绑定失败。","red"):r(n+"帐号已绑定。"),Mr.a.delete(e)}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.socialBind,n=e.getSocialBind;t||n(),this.checkOAuthCallback()}},{key:"render",value:function(){var e=this,t=this.props.socialBind,n=void 0===t?{}:t;return vt.a.createElement("section",{className:"AccountSocial"},vt.a.createElement("h4",null,"绑定第三方帐号"),vt.a.createElement("div",{className:"AccountSocial-wrap"},Qr.map(function(t){var r=t.key,a=t.label,o=t.icon,i=t.oauthUrl,c=n?n[r]:null;return vt.a.createElement("div",{key:r,className:"AccountSocial-account"},o,c?vt.a.createElement("div",null,vt.a.createElement("div",{className:"AccountSocial-name"},c.name),vt.a.createElement(It.c,{className:"AccountSocial-unbind",onClick:e.handleUnbindClick(r),preset:"link"},"（解绑）")):vt.a.createElement(It.c,{className:"AccountSocial-bind",onClick:e.handleBindClick(i),preset:"link"},a))})))}}]),t}(yt.Component),Cn.propTypes={requireUnlocked:jt.a.func.isRequired},Pn=Nn))||Pn,Gr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yr=(Tn=jn=function(e){function t(){return F(this,t),U(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return I(t,e),Gr(t,[{key:"render",value:function(){var e=this.props,t=e.account,n=e.requireUnlocked,r=e.isForceResetPassword,a=t.accountInfo||{},o=a.passwordSet,i=a.actived,c=a.email,l=a.phoneNo,s=function(e){return r&&!e?vt.a.createElement("div",{className:"AccountForm-passwordDescrWarn"},vt.a.createElement(xt.e,{size:18}),"你的帐号存在安全风险，请修改密码后继续操作。"):(o?"已":"未")+"设置"},u=c?vt.a.createElement("div",null,c,!i&&vt.a.createElement("div",null,"你的邮箱尚未激活，请尽快激活邮箱，解锁更多功能权限。")):"未绑定";return vt.a.createElement("div",null,vt.a.createElement(mr,{size:"narrow",title:"密码",descr:s,canExpand:n},vt.a.createElement(wr,null)),vt.a.createElement(mr,{size:"narrow",title:"绑定手机",descr:l||"未绑定",canExpand:n},vt.a.createElement(Ar,{account:t})),vt.a.createElement(mr,{size:"narrow",title:"绑定邮箱",descr:u,canExpand:n},function(e){return vt.a.createElement(Dr,{isExpanded:e,account:t})}),vt.a.createElement(Hr,{requireUnlocked:n}))}}]),t}(yt.Component),jn.propTypes={account:jt.a.object.isRequired,requireUnlocked:jt.a.func.isRequired,isForceResetPassword:jt.a.bool},jn.defaultProps={isForceResetPassword:!1},Tn),Kr=Yr,Xr=(n(2807),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Jr=(xn=Object(kt.connect)(null,{requestUrlToken:Pt.n,updateUrlToken:Pt.u}))((Rn=qn=function(e){function t(){var e,n,r,a;D(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=z(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.inputEl=null,r.handleSubmit=function(){if(!r.inputEl)return!1;var e=r.inputEl.value;return e?(0,r.props.updateUrlToken)(e,{success:"个性域名已更新",failure:!0}):(r.inputEl.focus(),!1)},a=n,z(r,a)}return M(t,e),Xr(t,[{key:"componentDidMount",value:function(){this.canModifyUrlToken()}},{key:"canModifyUrlToken",value:function(){var e=this.props,t=e.account.urlToken,n=void 0===t?{}:t,r=e.requestUrlToken;n.loading||n.token||r()}},{key:"renderLockedView",value:function(e){return vt.a.createElement("div",{className:"PersonalUrl-lockedView"},vt.a.createElement("span",null,"zhihu.com/people/",e),vt.a.createElement("span",{className:"PersonalUrl-disableEdit"},"暂不可修改"))}},{key:"renderEditView",value:function(e){var t=this;return vt.a.createElement(yr.b,{className:"PersonalUrl-form",onSubmit:this.handleSubmit},vt.a.createElement("span",{className:"PersonalUrl-label"},"zhihu.com/people/"),vt.a.createElement(br.a,{className:"PersonalUrl-input",defaultValue:e,onRef:function(e){t.inputEl||(t.inputEl=e)}}),vt.a.createElement(It.c,{className:"PersonalUrl-button",color:"blue",preset:"primary",type:"submit"},"保存"))}},{key:"render",value:function(){var e=this.props,t=e.account.urlToken,n=void 0===t?{}:t,r=e.currentUser,a=void 0===r?{}:r,o=e.requireUnlocked,i=n.token||a.urlToken||"",c=!1===n.setable,l=function(e){var t=Boolean(!e&&i);return vt.a.createElement("div",null,"个人主页的地址，个性域名只可更改一次",t&&vt.a.createElement("div",null,"zhihu.com/people/"+i))};return vt.a.createElement("div",{className:"PersonalUrl"},vt.a.createElement(mr,{bordered:!1,title:"个性域名",descr:l,canExpand:o},c?this.renderLockedView(i):this.renderEditView(i)))}}]),t}(yt.Component),qn.propTypes={account:jt.a.object.isRequired,currentUser:jt.a.object.isRequired,requireUnlocked:jt.a.func.isRequired},An=Rn))||An,Zr=(n(2808),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),$r=(Fn=Object(kt.connect)(H,{getAccountInfo:Pt.d,checkUnlockTicket:Pt.b,getUnlockRequest:Pt.g,requestUnlockTicket:Pt.m,unlockTicketByDigits:Pt.p,unlockTicketByPassword:Pt.q}))((Dn=In=function(e){function t(){var e,n,r,a;W(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=B(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.requireUnlocked=function(){var e=r.props,t=e.checkUnlockTicket,n=e.getUnlockRequest;return new Promise(function(e){var a=function(){return n().then(function(t){var n=t.payload.challenge;n&&0!==n.length?r.requireVerifyModal(e):e()})};t().then(e,a)})},a=n,B(r,a)}return L(t,e),Zr(t,[{key:"requireVerifyModal",value:function(e){var t=this,n=this.props,r=n.requestUnlockTicket,a=n.unlockTicketByDigits,o=n.unlockTicketByPassword,i=n.account,c=i.challenge,l=function(n){return function(r){return n(r).then(function(n){return St()(function(){null!==t.props.account.unlockTicket&&e()}),n})}};if(c&&c.length){return void(V()||_t.a.show(vt.a.createElement(_t.a,{account:i,requestUnlockTicket:r,unlockTicketByDigits:l(a),unlockTicketByPassword:l(o)})))}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.account.accountInfo,n=e.getAccountInfo;"boolean"!=typeof t.actived&&n()}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.currentUser,r=e.isForceResetPassword;return vt.a.createElement(fn,{category:"account"},vt.a.createElement(wt.a,{title:"帐户与密码"}),vt.a.createElement("div",{className:"SettingsAccount"},vt.a.createElement(ur,{title:"帐户与密码",descr:"帐户设置/个性域名"}),vt.a.createElement("section",{className:"SettingsAccount-account"},vt.a.createElement(ur,{subTitle:"帐户设置",descr:vt.a.createElement(yt.Fragment,null,"绑定手机和邮箱，并设置密码，帐号更安全",vt.a.createElement("br",null),"注意：为保证帐号安全，需进行二次验证。")}),vt.a.createElement("div",{className:"SettingsAccount-accountForm"},vt.a.createElement(Kr,{account:t,requireUnlocked:this.requireUnlocked,isForceResetPassword:r}))),vt.a.createElement("section",{className:"SettingsAccount-personalUrl"},vt.a.createElement(Jr,{account:t,currentUser:n,requireUnlocked:this.requireUnlocked}))))}}]),t}(yt.Component),In.fetchData=function(){return Object(Pt.d)()},Un=Dn))||Un,ea=$r,ta=(n(2809),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),na=jt.a.shape({label:jt.a.string.isRequired,value:jt.a.oneOfType([jt.a.string,jt.a.number]).isRequired}),ra=(Mn=zn=function(e){function t(){var e,n,r,a;G(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=Y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={isUpdating:!1,selected:r.props.selected},r.handleChange=function(e,t){var n=r.props,a=n.options,o=n.selected,i=n.submitChange,c=a[t];if(c&&c.value&&o.value!==c.value){r.setState({isUpdating:!0,selected:o});var l=function(){return r.setState({isUpdating:!1})};return i(c).then(l).catch(l)}},r.handleSelectClick=function(e){r.state.isUpdating&&e.preventDefault()},a=n,Y(r,a)}return K(t,e),ta(t,[{key:"render",value:function(){var e=this.props,t=e.separator,n=e.className,r=e.selectTargetClassName,a=e.title,o=void 0===a?"":a,i=e.descr,c=void 0===i?"":i,l=e.options,s=this.state,u=s.isUpdating,p=s.selected,f=Ut()("SelectorField",n,{"SelectorField--separator":t});return vt.a.createElement("div",{className:f},vt.a.createElement("div",{className:"SelectorField-title"},vt.a.createElement("h4",null,o),vt.a.createElement("div",{className:"SelectorField-descr"},c)),vt.a.createElement("div",{className:"SelectorField-selectWrap"},vt.a.createElement(kr.b,{plain:!0,text:p.label,onChange:this.handleChange,onClick:this.handleSelectClick,className:Ut()("SelectorField-select",{"is-disabled":u}),targetClassName:Ut()("SelectorField-options",r)},l.map(function(e,t){var n=e.label,r=e.value,a=r===p.value;return vt.a.createElement(kr.a,{className:Ut()({"is-selected":a}),key:t,value:n},a&&vt.a.createElement(xt.w,{className:"SelectorField-iconCheck",size:16}),n)}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.selected;return n&&n.value!==t.selected.value?{selected:n}:null}}]),t}(yt.PureComponent),zn.propTypes={separator:jt.a.bool,className:jt.a.string,selectTargetClassName:jt.a.string,title:jt.a.string,descr:jt.a.node,selected:na.isRequired,options:jt.a.arrayOf(na).isRequired,submitChange:jt.a.func.isRequired},zn.defaultProps={separator:!1},Mn),aa=ra,oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ia={switch:jt.a.bool.isRequired,scope:jt.a.string.isRequired},ca=jt.a.shape(ia).isRequired,la=jt.a.shape({switch:ia.switch}).isRequired,sa=jt.a.shape({scope:ia.scope}).isRequired,ua={user:X(),canSwitchOff:X(!0),notify:[{value:"on",label:Cr.on},{value:"off",label:Cr.off}]},pa=(n(2810),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),fa=(Bn=Wn=function(e){function t(){var e,n,r,a;$(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleSettingChange=function(){var e=r.props,t=e.inboxmsgStranger;return(0,e.updateInboxStrangerSetting)(!t)},a=n,ee(r,a)}return te(t,e),pa(t,[{key:"render",value:function(){var e=this.props.inboxmsgStranger;return vt.a.createElement("section",{className:"SettingsInboxStranger"},vt.a.createElement("input",{className:"Settings-checkbox",type:"checkbox",checked:e,onChange:this.handleSettingChange}),vt.a.createElement("div",{className:"SettingsInboxStranger-label"},vt.a.createElement("h3",null,"陌生人私信箱",vt.a.createElement(cn.Consumer,null,function(e){var t=e.focusQuestion;return vt.a.createElement(It.c,{className:"SettingsInboxStranger-help",onClick:function(){return t(Gt.WHAT_IS_STRANGER_INBOX)},preset:"link"},vt.a.createElement(xt._10,{fill:"#8590A6",size:18}))})),vt.a.createElement("p",null,"将陌生人私信统一管理，降低无用私信的干扰")))}}]),t}(yt.PureComponent),Wn.propTypes={inboxmsgStranger:jt.a.bool.isRequired,updateInboxStrangerSetting:jt.a.func.isRequired},Bn),da=(n(2811),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),ha=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ma=ua.user,ba=(Ln=Object(kt.connect)(null,{updateMessageSetting:Br.o}))((Hn=Qn=function(e){function t(){var e,n,r,a;ne(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=re(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleSubmitChange=function(e){var t=e.value;return r.props.updateMessageSetting(t)},r.updateInboxStrangerSetting=function(e){var t=r.props,n=t.inboxMsg.inboxmsgScope;return(0,t.updateMessageSetting)(n,e)},a=n,re(r,a)}return ae(t,e),ha(t,[{key:"render",value:function(){var e=this.props.inboxMsg;e=void 0===e?{}:e;var t=e.inboxmsgScope,n=e.inboxmsgStranger,r=void 0===t,a=Pr[t],o=a?{value:t,label:a}:da({},ma[0]);return vt.a.createElement("div",{className:"SettingsInbox"},vt.a.createElement(mr,{disabled:r,bordered:!1,title:"私信设置",descr:"允许谁给我发私信"},vt.a.createElement(aa,{title:"私信设置",descr:"允许谁给我发私信",options:ma,selected:o,submitChange:this.handleSubmitChange}),"all"===t&&vt.a.createElement(fa,{inboxmsgStranger:n,updateInboxStrangerSetting:this.updateInboxStrangerSetting})))}}]),t}(yt.Component),Qn.propTypes={inboxMsg:jt.a.shape({inboxmsgScope:jt.a.oneOf(Object.keys(Pr)),inboxmsgStranger:jt.a.bool})},Vn=Hn))||Vn,ya=(n(2812),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),va=(Gn=Object(kt.connect)(null,{updateNotificationSetting:Br.p}))((Xn=Kn=function(e){function t(){var e,n,r,a;oe(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleSubmitChange=function(e){return function(t){var n=t.value,a=r.props.updateNotificationSetting,o={};return"off"===n?o.switch=!1:("questionInvite"!==e&&(o.switch=!0),o.scope=n),a(e,o)}},a=n,ie(r,a)}return ce(t,e),ya(t,[{key:"render",value:function(){var e=this.props.notification,t=e.mentionMe,n=e.commentMe,r=e.questionInvite,a=J(t),o=J(n),i=J(r);return vt.a.createElement("div",{className:"SettingsInviteMsg"},vt.a.createElement(mr,{title:"邀请/评论消息设置",descr:"有人对我发出邀请时，我会收到消息通知"},vt.a.createElement(aa,{separator:!0,title:"提及我",descr:"被谁提及时，我将收到消息通知",options:ua.canSwitchOff,selected:a,submitChange:this.handleSubmitChange("mentionMe")}),vt.a.createElement(aa,{separator:!0,title:"评论或回复我",descr:"被谁评论或回复时，我将收到消息通知",options:ua.canSwitchOff,selected:o,submitChange:this.handleSubmitChange("commentMe")}),vt.a.createElement(aa,{title:"邀请我回答问题",descr:"被谁邀请回答问题时，我将收到消息通知",options:ua.user,selected:i,submitChange:this.handleSubmitChange("questionInvite")})))}}]),t}(yt.Component),Kn.propTypes={notification:jt.a.shape({mentionMe:ca,commentMe:ca,questionInvite:sa}).isRequired},Yn=Xn))||Yn,ga=(n(2813),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Ea=(Jn=Object(kt.connect)(null,{updateNotificationSetting:Br.p}))((er=$n=function(e){function t(){var e,n,r,a;le(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=se(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleSubmitChange=function(e){return function(t){var n=t.value,a=r.props.updateNotificationSetting,o={};return"off"===n?o.switch=!1:(o.switch=!0,o.scope=n),a(e,o)}},a=n,se(r,a)}return ue(t,e),ga(t,[{key:"render",value:function(){var e=this.props.notification,t=e.answerVoteup2,n=e.answerThanks,r=e.contentVoteup,a=e.articleTipjarSuccess,o=J(t),i=J(n),c=J(r),l=J(a);return vt.a.createElement("div",{className:"SettingsVoteUp"},vt.a.createElement(mr,{title:"赞同/赞赏消息设置",descr:"有人对我赞同或赞赏时，我会收到消息通知"},vt.a.createElement(aa,{separator:!0,title:"赞同我的回答",descr:"我的回答被谁赞同时，我会收到消息通知",options:ua.canSwitchOff,selected:o,submitChange:this.handleSubmitChange("answerVoteup2")}),vt.a.createElement(aa,{separator:!0,title:"感谢我的回答",descr:"我的回答被谁感谢时，我会收到消息通知",options:ua.canSwitchOff,selected:i,submitChange:this.handleSubmitChange("answerThanks")}),vt.a.createElement(aa,{separator:!0,title:"赞了我的内容",descr:vt.a.createElement("div",null,"我的评论/专栏文章/电子书被谁点赞时，我会收到消",vt.a.createElement("br",null),"息通知"),options:ua.canSwitchOff,selected:c,submitChange:this.handleSubmitChange("contentVoteup")}),vt.a.createElement(aa,{title:"赞赏了我的文章",descr:"我的文章被谁赞赏时，我会收到消息通知",options:ua.canSwitchOff,selected:l,submitChange:this.handleSubmitChange("articleTipjarSuccess")})))}}]),t}(yt.Component),$n.propTypes={notification:jt.a.shape({answerVoteup2:ca,answerThanks:ca,contentVoteup:ca,articleTipjarSuccess:ca}).isRequired},Zn=er))||Zn,wa=(n(2814),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oa=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(ua.user),[{value:"fast_new_answer",label:"获取所有新回答通知"}]),Sa=(tr=Object(kt.connect)(null,{updateNotificationSetting:Br.p}))((ar=rr=function(e){function t(){var e,n,r,a;pe(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleSwitchOptionChange=function(e){return function(t){var n=t.value,a=r.props.updateNotificationSetting,o={switch:"off"!==n};return o.switch&&(o.scope=n),a(e,o)}},r.handleSwitchChange=function(e){return function(t){var n=t.value;return(0,r.props.updateNotificationSetting)(e,{switch:"off"!==n})}},r.handleQuestionAnsweredChange=function(e){var t=e.value,n=r.props,a=n.notification.fastNewAnswer,o=n.updateNotificationSetting,i={switch:"fast_new_answer"===t};return i.switch!==a.switch?o("fastNewAnswer",i):o("questionAnswered",{scope:t})},a=n,fe(r,a)}return de(t,e),wa(t,[{key:"render",value:function(){var e=this.props.notification,t=e.memberFollow,n=e.columnFollow,r=e.memberFollowFavlist,a=e.columnUpdate,o=e.ebookPublish,i=e.questionAnswered,c=e.fastNewAnswer,l=e.couponNotify,s=J(t),u=J(n),p=J(r),f=Z(a),d=Z(o),h=Z(l),m=he(i,c.switch);return vt.a.createElement("div",{className:"SettingsFollow"},vt.a.createElement(mr,{title:"关注消息设置",descr:"我的关注有新动态时，我会收到消息通知"},vt.a.createElement(aa,{separator:!0,title:"关注了我",descr:"我被谁关注时，我将收到消息通知",options:ua.canSwitchOff,selected:s,submitChange:this.handleSwitchOptionChange("memberFollow")}),vt.a.createElement(aa,{separator:!0,title:"关注了我的专栏",descr:"我的专栏被谁关注时，我会收到消息通知",options:ua.canSwitchOff,selected:u,submitChange:this.handleSwitchOptionChange("columnFollow")}),vt.a.createElement(aa,{separator:!0,title:"关注了我的收藏夹",descr:"我的收藏夹被谁关注时，我会收到消息通知",options:ua.canSwitchOff,selected:p,submitChange:this.handleSwitchOptionChange("memberFollowFavlist")}),vt.a.createElement(aa,{separator:!0,title:"专栏有新文章",descr:"关注的专栏有新文章时，我是否接收通知",options:ua.notify,selected:f,submitChange:this.handleSwitchChange("columnUpdate")}),vt.a.createElement(aa,{separator:!0,title:"电子书",descr:"我关注的人出版了新的电子书，我是否接收消息通知",options:ua.notify,selected:d,submitChange:this.handleSwitchChange("ebookPublish")}),vt.a.createElement(aa,{separator:!0,title:"我的礼券即将过期",descr:"我的礼券即将过期，我是否接收消息通知",options:ua.notify,selected:h,submitChange:this.handleSwitchChange("couponNotify")}),vt.a.createElement(aa,{className:"SettingsFollow-questionAnswered",selectTargetClassName:"SettingsFollow-questionAnsweredTarget",title:"关注的问题有新回答",descr:vt.a.createElement("div",null,"关注的问题被谁回答时，我将收到部分",vt.a.createElement("br",null),"消息通知或",vt.a.createElement(cn.Consumer,null,function(e){var t=e.focusQuestion;return vt.a.createElement(It.c,{className:"SettingsFollow-help",onClick:function(){return t(Gt.WHEN_NOTIFIED_ALL_NEW_ANSWER)},preset:"link"},"获取所有新回答通知")})),options:Oa,selected:m,submitChange:this.handleQuestionAnsweredChange})))}}]),t}(yt.Component),rr.propTypes={notification:jt.a.shape({memberFollow:ca,columnFollow:ca,memberFollowFavlist:ca,columnUpdate:la,ebookPublish:la,questionAnswered:sa,fastNewAnswer:la,couponNotify:la}).isRequired},nr=ar))||nr,_a=(n(2815),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Pa=(or=Object(kt.connect)(ve,{getMessageSetting:Br.f,getNotificationSetting:Br.g}))((lr=cr=function(e){function t(){return me(this,t),be(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ye(t,e),_a(t,[{key:"componentDidMount",value:function(){if(null===this.props.inboxMsg){var e=this.props,t=e.getMessageSetting,n=e.getNotificationSetting;t(),n()}}},{key:"render",value:function(){var e=this.props,t=e.inboxMsg,n=e.notification,r=void 0===n?{}:n;return vt.a.createElement(fn,{category:"notification"},vt.a.createElement(wt.a,{title:"消息"}),vt.a.createElement("div",{className:"SettingsNotification"},vt.a.createElement(ur,{title:"消息",descr:"私信设置/邀请设置/赞同与赞赏/关注"}),vt.a.createElement(ba,{inboxMsg:t||{}}),r.mentionMe&&vt.a.createElement(va,{notification:r}),r.answerVoteup2&&vt.a.createElement(Ea,{notification:r}),r.memberFollow&&vt.a.createElement(Sa,{notification:r})))}}]),t}(yt.Component),cr.fetchData=function(){return function(e){return Promise.all([e(Object(Br.f)()),e(Object(Br.g)())])}},ir=lr))||ir,Ca=Pa,Na=n(268),ja=n(74),Ta=n(1397),xa=(n(2816),jt.a.shape({urlToken:jt.a.string.isRequired,name:jt.a.string.isRequired,avatarUrl:jt.a.string.isRequired,isBlocked:jt.a.bool}).isRequired);ge.propTypes={user:xa,handleUnblockClick:jt.a.func,avatarSize:jt.a.number};n(2817);Ee.propTypes={data:jt.a.arrayOf(xa),handleUnblockClick:jt.a.func,avatarSize:jt.a.number};var Aa,qa,Ra,Fa,Ua,Ia,Da,za,Ma,Wa,Ba,La,Va,Qa,Ha,Ga,Ya,Ka,Xa,Ja,Za,$a,eo=(n(2818),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),to=jt.a.shape({isEnd:jt.a.bool,totals:jt.a.number,pageNo:jt.a.number,pageSize:jt.a.number}),no=(qa=Aa=function(e){function t(){var e,n,r,a;we(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=ke(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handlePagerClick=function(e){return function(){var t=r.props,n=t.handlePagerClick,a=t.paging;n&&a&&n(a.pageNo+e)}},a=n,ke(r,a)}return Oe(t,e),eo(t,[{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.paging,r=void 0===n?{}:n,a=e.data,o=e.handleUnblockClick,i=e.footer,c=r.pageNo+1>Math.ceil(r.totals/r.pageSize);return vt.a.createElement("article",{className:"UserPage"},vt.a.createElement("div",{className:"UserPage-content"},vt.a.createElement(Ee,{data:a,handleUnblockClick:o})),1!==r.pageNo&&vt.a.createElement(It.c,{className:"UserPage-pagerLeft",preset:"link",disabled:t,onClick:this.handlePagerClick(-1)},vt.a.createElement(xt.h,{fill:"#464646",size:24})),!c&&vt.a.createElement(It.c,{className:"UserPage-pagerRight",preset:"link",disabled:t,onClick:this.handlePagerClick(1)},vt.a.createElement(xt.i,{fill:"#464646",size:24})),vt.a.createElement("footer",null,i))}}]),t}(yt.PureComponent),Aa.propTypes={isFetching:jt.a.bool,paging:to,data:jt.a.arrayOf(xa),handlePagerClick:jt.a.func,handleUnblockClick:jt.a.func,footer:jt.a.string},Aa.defaultProps={isFetching:!1,footer:""},qa),ro=no,ao=(n(2819),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),oo=(Ra=Object(kt.connect)(null,{getBlockedUsers:Br.d,unblockUser:Br.n}))((Ia=Ua=function(e){function t(){var e,n,r,a;Se(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=_e(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handlePagerClick=function(e){e<1||r.props.getBlockedUsers(e)},r.handleUnblockClick=function(e){var t=e.urlToken;return function(){t&&Wr.a.confirm(vt.a.createElement("div",{className:"SettingsAlert"},vt.a.createElement("h2",null,"取消屏蔽"),"取消屏蔽之后，对方将可以：关注你、给你发私信、向你提问、评论你的答案、邀请你回答问题。"),{text:{ok:"确认",cancel:"取消"}}).then(function(){return r.props.unblockUser(t)},function(){})}},r.handleExpand=function(e){e||r.props.getBlockedUsers()},r.renderDescr=function(e){var t=r.props.pageData,n=t.data,a=t.paging;if(e||!n.length)return"查看或撤销已屏蔽用户";var o=n.slice(0,3).filter(function(e){return e.isBlocked});return vt.a.createElement("div",null,vt.a.createElement("div",null,"查看或撤销已屏蔽用户"),vt.a.createElement("div",{className:"BlockedUsers-descrUsers"},o.map(function(e,t){return vt.a.createElement(ge,{key:"user-"+t,user:e})}),a.totals>3?"等 "+Object(Na.niceNumber)(a.totals)+" 人":null))},a=n,_e(r,a)}return Pe(t,e),ao(t,[{key:"render",value:function(){var e=this.props.pageData,t=e.data,n=e.paging,r=1===n.pageNo&&0===t.length;return vt.a.createElement("div",{className:"BlockedUsers"},vt.a.createElement(mr,{disabled:r,bordered:!1,title:"用户黑名单",descr:this.renderDescr,onExpand:this.handleExpand},vt.a.createElement(ro,{paging:n,data:t,handlePagerClick:this.handlePagerClick,handleUnblockClick:this.handleUnblockClick,footer:"共 "+Object(Na.niceNumber)(n.totals)+" 用户被拉黑"})),r&&vt.a.createElement("p",{className:"SettingsFilter-empty"},"无用户"))}}]),t}(yt.Component),Ua.propTypes={pageData:jt.a.shape({isFetching:jt.a.bool,paging:to,data:jt.a.arrayOf(xa)})},Fa=Ia))||Fa,io=(n(2820),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),co=(Da=Object(kt.connect)(null,{getBlockedFollowees:Br.c,unblockFollowee:Br.m}))((Wa=Ma=function(e){function t(){var e,n,r,a;Ce(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=Ne(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handlePagerClick=function(e){e<1||r.props.getBlockedFollowees(e)},r.handleUnblockClick=function(e){var t=e.urlToken;return function(){t&&Wr.a.confirm(vt.a.createElement("div",{className:"SettingsAlert"},vt.a.createElement("h2",null,"恢复查看他的动态？"),"你将在首页和想法动态中看到他的内容。"),{text:{ok:"确认",cancel:"取消"}}).then(function(){return r.props.unblockFollowee(t)},function(){})}},r.handleExpand=function(e){e||r.props.getBlockedFollowees()},r.renderDescr=function(e){var t=r.props.pageData,n=t.data,a=t.paging;if(e||!n.length)return"屏蔽已关注用户的动态";var o=n.slice(0,3).filter(function(e){return e.isBlocked});return vt.a.createElement("div",null,vt.a.createElement("div",null,"屏蔽已关注用户的动态"),vt.a.createElement("div",{className:"BlockedFollowees-descrUsers"},o.map(function(e,t){return vt.a.createElement(ge,{key:"user-"+t,user:e})}),a.totals>3?"等 "+Object(Na.niceNumber)(a.totals)+" 人":null))},a=n,Ne(r,a)}return je(t,e),io(t,[{key:"render",value:function(){var e=this.props.pageData,t=e.data,n=e.paging,r=1===n.pageNo&&0===t.length;return vt.a.createElement("div",{className:"BlockedFollowees"},vt.a.createElement(mr,{disabled:r,bordered:!1,title:"不看他的动态",descr:this.renderDescr,onExpand:this.handleExpand},vt.a.createElement(ro,{paging:n,data:t,handlePagerClick:this.handlePagerClick,handleUnblockClick:this.handleUnblockClick,footer:"共 "+Object(Na.niceNumber)(n.totals)+" 用户被拉黑"})),r&&vt.a.createElement("p",{className:"SettingsFilter-empty"},"无用户"))}}]),t}(yt.Component),Ma.propTypes={pageData:jt.a.shape({isFetching:jt.a.bool,paging:to,data:jt.a.arrayOf(xa)})},za=Wa))||za,lo=n(553),so=(n(2821),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),uo=(Ba=Object(kt.connect)(qe,{getIgnoredTopics:Br.e,releaseIgnoredTopic:Br.k,getRestrictedTopics:Br.i}))((Qa=Va=function(e){function t(){var e,n,r,a;Te(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=xe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handlePagerClick=function(e){e<1||r.props.getIgnoredTopics(e)},r.handleRemoveClick=function(e){return function(){e&&r.props.releaseIgnoredTopic(e)}},r.handleExpand=function(e){e||r.props.getIgnoredTopics()},r.renderDescr=function(e){var t=r.props.pageData,n=t.data,a=t.paging;if(e||!n.length)return"查看或撤销已屏蔽话题";var o=n.slice(0,3);return vt.a.createElement("div",null,vt.a.createElement("div",null,"查看或撤销已屏蔽话题"),vt.a.createElement("div",{className:"BlockedTopics-descr"},o.map(function(e,t){var n=e.id,r=e.name,a=e.excerpt;return vt.a.createElement(lo.a,{key:"topic-"+t},vt.a.createElement("a",{href:"/topic/"+n,target:"_blank",title:a},r))}),a.totals>3?"等 "+Object(Na.niceNumber)(a.totals)+" 个话题":null))},a=n,xe(r,a)}return Ae(t,e),so(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.restrictedTopics,n=e.getRestrictedTopics;Array.isArray(t)||n()}},{key:"renderContent",value:function(){var e=this,t=this.props,n=t.pageData.data,r=t.restrictedTopics;return vt.a.createElement("article",{className:"BlockedTopics-content"},vt.a.createElement("section",null,vt.a.createElement("h3",null,"已屏蔽话题"),vt.a.createElement("div",null,n.length?n.map(function(t){var n=t.id,r=t.name,a=t.excerpt;return vt.a.createElement(lo.a,{key:n,removable:!0,onRemove:e.handleRemoveClick(n)},vt.a.createElement("a",{href:"/topic/"+n,target:"_blank",title:a},r))}):vt.a.createElement("p",{className:"BlockedTopics-none"},"暂无屏蔽话题"))),r&&r.length&&vt.a.createElement("section",null,vt.a.createElement("h3",null,"受限话题"),vt.a.createElement("div",null,r.map(function(e){var t=e.id,n=e.name,r=e.excerpt;return vt.a.createElement(lo.a,{key:t},vt.a.createElement("a",{href:"/topic/"+t,target:"_blank",title:r},n))}))))}},{key:"render",value:function(){var e=this,t=this.props.pageData.paging;return vt.a.createElement("div",{className:"BlockedTopics"},vt.a.createElement(mr,{bordered:!1,title:"话题黑名单",descr:this.renderDescr,onExpand:this.handleExpand},function(t){return t?e.renderContent():null}),0===t.totals&&vt.a.createElement("p",{className:"SettingsFilter-empty"},"无话题"))}}]),t}(yt.Component),Va.propTypes={pageData:jt.a.shape({isFetching:jt.a.bool,data:jt.a.arrayOf(jt.a.shape({name:jt.a.string,id:jt.a.string,excerpt:jt.a.string}))})},La=Qa))||La,po=(n(2822),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),fo=(Ha=Object(kt.connect)(Ie,{getBlockedUsers:Br.d,getBlockedFollowees:Br.c,getIgnoredTopics:Br.e}))((Ka=Ya=function(e){function t(){return Re(this,t),Fe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ue(t,e),po(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockedUsers,n=e.getBlockedUsers,r=e.getBlockedFollowees,a=e.getIgnoredTopics;"number"!=typeof t.paging.totals&&(n(),r(),a())}},{key:"render",value:function(){var e=this.props,t=e.blockedUsers,n=e.blockedFollowees,r=e.ignoredTopics;return vt.a.createElement(fn,{category:"filter"},vt.a.createElement(wt.a,{title:"屏蔽"}),vt.a.createElement("div",{className:"SettingsFilter"},vt.a.createElement(ur,{title:"屏蔽",descr:"用户黑名单/话题黑名单/不看他的动态"}),vt.a.createElement(oo,{pageData:t}),vt.a.createElement(uo,{pageData:r}),vt.a.createElement(co,{pageData:n})))}}]),t}(yt.Component),Ya.fetchData=function(){return function(e){return Promise.all([e(Object(Br.d)()),e(Object(Br.c)()),e(Object(Br.e)())])}},Ga=Ka))||Ga,ho=fo,mo=(n(2823),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),bo=function(e){function t(e){De(this,t);var n=ze(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleChange=function(e){n.setState({checked:e.target.checked});var t=n.props.onChange;"function"==typeof t&&t(e)};var r=e.checked;return n.state={checked:Boolean(r)},n}return Me(t,e),mo(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.checked,r=t.forceControlled;if(!r){var a=e.forceControlled,o=e.checked;if(a&&!r)return void this.setState({checked:Boolean(n)});if(void 0!==n){var i=this.state.checked;o!==n&&n!==i&&this.setState({checked:n})}}}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,r=e.onClick,a=e.onChange,o=e.name,i=e.value,c=e.checked,l=e.disabled,s=e.forceControlled,u=this.state.checked,p=s?c:u,f=s?a:this.handleChange;return vt.a.createElement("input",{id:t,type:"checkbox",className:Ut()("Switch",n),onClick:r,onChange:f,name:o,value:i,checked:Boolean(p),disabled:l})}}]),t}(vt.a.Component),yo=(n(2824),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),vo=(Xa=Object(kt.connect)(function(e){return{privacyFlag:e.settings.privacyFlag}},{getPrivacySetting:Br.h,updatePrivacySetting:Br.q}))(($a=Za=function(e){function t(){var e,n,r,a;We(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=Be(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={expanded:!1},r.handlePrivacyChange=function(e){return function(){var t=r.props,n=t.privacyFlag,a=t.updatePrivacySetting,o=!n,i=function(){"outside"===e&&o&&!r.state.expanded&&r.setState({expanded:!0})};return a(o).then(i)}},r.handleExpand=function(e){r.setState({expanded:e})},a=n,Be(r,a)}return Le(t,e),yo(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.privacyFlag,n=e.getPrivacySetting;null===t&&n()}},{key:"render",value:function(){var e=this.props.privacyFlag,t=this.state.expanded;return vt.a.createElement(fn,{category:"privacy"},vt.a.createElement(wt.a,{title:"隐私"}),vt.a.createElement(ur,{title:"隐私",descr:"隐私保护"}),vt.a.createElement("section",{className:"SettingsPrivacy"},vt.a.createElement(mr,{title:"隐私保护",bordered:!1,expanded:t,onExpand:this.handleExpand},vt.a.createElement("div",{className:"SettingPrivacySwitch"},vt.a.createElement("span",null,"在站外隐藏个人信息"),vt.a.createElement(bo,{checked:e,onChange:this.handlePrivacyChange("inside")})),vt.a.createElement("div",{className:"SettingPrivacyContent"},vt.a.createElement("div",null,"在站外搜到我在知乎创作的内容时，我的用户名将不会被显示，如图所示"),vt.a.createElement("div",{className:"SettingPrivacyCard"},vt.a.createElement("img",{src:"https://pic4.zhimg.com/50/da8e974dc_xl.jpg",alt:"知乎用户"}),vt.a.createElement("span",null,"知乎用户")))),!t&&vt.a.createElement("div",{className:"SettingPrivacySwitchContainer"},vt.a.createElement("div",{className:"SettingPrivacySwitch"},vt.a.createElement("span",null,"在站外隐藏个人信息"),vt.a.createElement(bo,{checked:e,onChange:this.handlePrivacyChange("outside")})))))}}]),t}(yt.Component),Za.fetchData=function(){return Object(Br.h)()},Ja=$a))||Ja,go=vo,Eo=n(304);n(2825);Ve.propTypes={username:jt.a.string.isRequired};var wo,ko,Oo=(n(2826),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),So=(wo=Object(kt.connect)(Ye,{loadCurrentUserWatermarkEnable:Ct.o,updateWatermarkSetting:Br.s}))(ko=function(e){function t(){var e,n,r,a;Qe(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=He(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(){var e=r.props,t=e.currentUser.isEnableWatermark;return(0,e.updateWatermarkSetting)(!t)},a=n,He(r,a)}return Ge(t,e),Oo(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentUser.isEnableWatermark,n=e.loadCurrentUserWatermarkEnable;"boolean"!=typeof t&&n()}},{key:"render",value:function(){var e=this.props.currentUser,t=e.name,n=e.isEnableWatermark,r="boolean"!=typeof n;return vt.a.createElement("div",{className:"WatermarkPreference"},vt.a.createElement(mr,{title:"图片水印",descr:"在我上传的图片上显示水印",disabled:r},vt.a.createElement("article",{className:"WatermarkPreference-content"},vt.a.createElement("header",null,vt.a.createElement("h4",null,"图片水印"),!r&&vt.a.createElement(bo,{checked:n,onChange:this.handleChange})),vt.a.createElement("p",null,"在你的知乎问答，文章，想法中添加的图片将会被打上水印，正常情况下如左图，在匿名状态或开启隐私保护后水印如右图（你可以在设置-隐私设置中开启或关闭隐私保护）"),vt.a.createElement(Ve,{username:t}))))}}]),t}(yt.Component))||ko,_o=(n(2827),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Po=function(e){function t(){var e,n,r,a;Ke(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=Xe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={isShowMenu:null},r.handleChange=function(){var e=!r.state.isShowMenu;Mr.a.set(Dt.v,e?"TRUE":"FALSE"),r.setState({isShowMenu:e})},a=n,Xe(r,a)}return Je(t,e),_o(t,[{key:"componentDidMount",value:function(){this.restoreState()}},{key:"restoreState",value:function(){var e="TRUE"===Mr.a.get(Dt.v);this.setState({isShowMenu:e})}},{key:"render",value:function(){var e=this.state.isShowMenu;return vt.a.createElement("section",{className:"OpposeReasonPreference"},vt.a.createElement(ur,{subTitle:"提交反对理由",descr:"可在「反对」后继续提交反对理由"}),null!==e&&vt.a.createElement(bo,{className:"SettingsSwitch",checked:e,onChange:this.handleChange}))}}]),t}(yt.PureComponent);n(2828);Ze.propTypes={id:jt.a.string,name:jt.a.string,label:jt.a.string,des:jt.a.string,isChecked:jt.a.bool};var Co,No,jo=Ze,To=jo,xo=(n(2829),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Ao=function(e){function t(){var e,n,r,a;$e(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=et(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.troggleRadio=function(e){var t=e.target.checked,n=t?"LOW":"OFF";(0,r.props.updateWalleSetting)(n)},r.handleChange=function(e){var t=e.target.id;(0,r.props.updateWalleSetting)(t)},a=n,et(r,a)}return tt(t,e),xo(t,[{key:"componentDidMount",value:function(){this.props.loadCurrentUserWalleEnable()}},{key:"render",value:function(){var e=this.props.type;return vt.a.createElement("div",{className:"WallEPreference"},vt.a.createElement("section",{className:"WallEPreference-main"},vt.a.createElement(ur,{subTitle:"瓦力阴阳怪气评论保护",descr:"开启后，系统会对你获得的评论进行检测，被识别为阴阳怪气的评论将被折叠"}),vt.a.createElement(bo,{className:"SettingsSwitch",checked:"OFF"!==e,onChange:this.troggleRadio,forceControlled:!0})),vt.a.createElement("div",{className:Ut()("WallEPreference-radios",{"WallEPreference-radios--collapse":"OFF"===e})},vt.a.createElement(To,{className:"WallEPreference-radio",id:"LOW",name:"walle",label:"热情模式",des:"（准确度一般，识别量较多）",onClick:this.handleChange,isChecked:"LOW"===e}),vt.a.createElement(To,{className:"WallEPreference-radio",id:"HIGH",name:"walle",label:"冷静模式",des:"（准确度较高，识别量较少）",onClick:this.handleChange,isChecked:"HIGH"===e})))}}]),t}(yt.Component),qo=Object(kt.connect)(function(e){var t=Object(Ct.c)(e),n=t.algorithmRight;n=void 0===n?{}:n;var r=n.sarcasm;return{type:(void 0===r?"off":r).toUpperCase()}},{loadCurrentUserWalleEnable:Ct.n,updateWalleSetting:Br.r})(Ao),Ro=n(61),Fo=(n(2830),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Uo=function(e){function t(){var e,n,r,a;nt(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=rt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={isShowMenu:null},r.handleChange=function(){var e=r.props,t=e.enableShortcut;(0,e.toggleEnableShortcut)(!t)},a=n,rt(r,a)}return at(t,e),Fo(t,[{key:"render",value:function(){var e=this.props.enableShortcut;return vt.a.createElement("section",{className:"ShortcutPreference"},vt.a.createElement(ur,{subTitle:"快捷键",descr:vt.a.createElement("div",{className:"ShortcutPreference-descr"},"更加方便地浏览知乎，按"," ",vt.a.createElement("kbd",{className:"ShortcutPreference-kbd"},"？"),"（",vt.a.createElement("kbd",{className:"ShortcutPreference-kbd"},"Shift")," +"," ",vt.a.createElement("kbd",{className:"ShortcutPreference-kbd"},"/"),"）查看所有快捷键")}),vt.a.createElement(bo,{className:"SettingsSwitch",checked:e,onChange:this.handleChange}))}}]),t}(yt.PureComponent),Io=Object(kt.connect)(function(e){return{enableShortcut:e.env.enableShortcut}},{toggleEnableShortcut:Ro.k})(Uo),Do=(n(2831),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),zo=(Co=Object(kt.connect)(lt,{loadSwitches:Eo.b}))(No=function(e){function t(){return ot(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ct(t,e),Do(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.switches.isAnswerOpposeReasonVisiable,n=e.loadSwitches;"boolean"!=typeof t&&n()}},{key:"render",value:function(){var e=this.props.switches,t=e.isAnswerOpposeReasonVisiable,n=e.algorithmRight;n=void 0===n?{}:n;var r=n.sarcasm,a=void 0===r?"none":r,o="图片水印"+(t?"/提交反对理由":"");return vt.a.createElement(fn,{category:"preference"},vt.a.createElement(wt.a,{title:"偏好设置"}),vt.a.createElement(ur,{title:"偏好设置",descr:o}),vt.a.createElement("div",{className:"SettingsPreference"},vt.a.createElement(So,null),t&&vt.a.createElement(Po,null),"none"!==a&&vt.a.createElement(qo,null),vt.a.createElement(Io,null)))}}]),t}(yt.Component))||No,Mo=zo;t.default=vt.a.createElement(gt.Route,{sticky:st},vt.a.createElement(gt.Route,{authRequired:!0,path:"account",component:ea,name:"SettingsAccount"}),vt.a.createElement(gt.Route,{authRequired:!0,path:"notification",component:Ca,name:"SettingsNotification"}),vt.a.createElement(gt.Route,{authRequired:!0,path:"filter",component:ho,name:"SettingsFilter"}),vt.a.createElement(gt.Route,{authRequired:ut,path:"privacy",component:go,name:"SettingsPrivacy"}),vt.a.createElement(gt.Route,{authRequired:ut,path:"preference",component:Mo,name:"SettingsPreference"}))}});
//# sourceMappingURL=main.settings-routes.d27dc50421e94b8fc171.js.map